---
title: 2021-04-03 WIL
date: 2021-04-03
tag: [TIL]
---

## Facts

- 이번주는 당근마켓에서 꽤 굵직한 부분을 맡게되었습니다. 실력이 미숙해서 이리저리 삽질도 많이 했던 것 같습니다. 지금은 그래도 꽤 많이 구현한 상태인데 리뷰를 받아보니 부족한 점이 많이 보여서 또다시 할 게 태산이네요. 이런 와중에 또 제 기준 중간규모의 요청도 들어와서 일이 계속 쌓이고 있는 상황입니다 ㅜㅜ 
- 삽질을 했던 기능 구현은 "슬라이드 카테고리 바"였습니다. 카테고리 바가 좌우로 스크롤이 되면서 동시에 어떤 위치에 존재하다가 스크롤이 내려가면 모바일 뷰의 상단에 착 붙는 UI를 구현하는 것이었는데, 생각보다 어려웠습니다. 특히 iOS의 사파리 브라우저가 `position: fixed`를 지원하지 않아서 더 구현하기 어려웠던 것 같습니다. 아울러 좌우 스크롤의 위치 고정도... 말로는 표현하기 힘들지만 힘든 트러블 슈팅이었던 것 같습니다. 이를 통해 많이 배웠구요. 
- 이번주는 3월의 마지막주 수요일이 있는 날이어서 당근마켓에서 진행하는 "문화의 날" 행사가 있었습니다. 오후 2시부터 회사에서 지원하는 지원금을 바탕으로 업무 외적인 활동을 하는 것이었는데 저는 정자동으로 수채화를 그리러 나갔습니다. 날씨가 정말 봄날씨였고, 하늘하늘 불어오는 따뜻한 바람에 통유리로 된 공간에 햇빛도 쫙 들어오는데 클래식 음악도 틀어져 있고, 이런 공간에서 또 수채화를 그리고 있으니 제가 참 고상해진 것 같았고, 정신적으로 힐링이 많이 되었던 것 같습니다. 특히 이번주는 업무강도가 쎄서 심신이 좀 힘들었었는데 많이 힐링이 되었던 좋은 시간이었던 것 같아요.  
- 수요일에는 문화에날 참여도 했지만 오전에 잠시 카카오커머스에 최종면접도 보았습니다. 업무는 해야됐기에 오전일찍 카카오커머스 건물 1층에 있는 카페에 도착해서 당근마켓 일을 하다가 11시에 면접일정이 잡혀있었기 때문에 10시 45분쯔음부터 면접을 보러 카카오커머스로 이동했습니다. 면접은 약 30분정도 진행되었고 편안하게 봤던 것 같습니다. 뻘소리를 되게 많이해서 면접을 그렇게 잘봤다고 생각하진 않았는데 최종합격 연락을 받았네요 ㅎㅎ

## Feelings

- 이번주 정말 힘들었어요. 결과만 놓고보면 별로 한 건 없는데, 개발 외적으로도 숙지해야되는 지식들이 많아서 이런 것들을 익히는데도 시간을 썼고, 모르는 기술에 대해서도 공부하면서 개발하다보니 시간을 계속 썼던 것 같아요. 제 실력에 있어서도 모자람이 있어서 빠르게 일을 처리하지 못했던 점도 있었던 것 같습니다. 그래도 점점 일이 익숙해져가는 것 같아서 조금씩 해소될 것 같긴한데 아직 산더미처럼 쌓인 일들을 보니 안심되진 않네요... 전체적으로 근무도 좀 오래했던 것 같아요.
- 문화의 날이 생각보다 의미있어서 좋았던 것 같습니다.
- 요즘 React에서 몰랐던 기능들을 새롭게 많이 알아가는 것 같아요. 공부를 할 때는 너무 와닿지 않아서 "이런 걸 어디다 쓰는거지?"라고 의문이 들었던 기술들을 많이 사용해보는 좋은 시간이었던 것 같습니다. `forwardRef`, `createPortal`, `useLayoutEffect` 같은 기술들을 사용해보며 많이 배웠던 것 같아 뿌듯합니다. 아울러 어려웠던 UI구현도 버키의 도움을 받긴 했지만 그래도 잘 해결해낸 것 같아서 좋네요!
- 카카오커머스 정규직에 최종 합격했습니다! 아직 신경쓸 부분들이 많이 남아서그런지 막 그렇게 엄청 기쁘지는 않지만 그래도 엄청 기분 좋네요! ㅋㅋㅋㅋ 요즘 저를 힘들게 했던 부분들이 다 액땜이었나봅니다. 부모님께 말씀드렸는데 정말 좋아하셔서 기분이 좋았고, 은주도 같이 기뻐해줘서 너무 행복했던 것 같네요.  

## Findings

- git에 대해 조금 더 알아가는 것 같습니다.
- 웹뷰에서 어느 위치에 존재하다가 스크롤에 따라 상단에 붙으면 계속 상단에 붙은채로 유지되도록 하는 UI를 구현하는 방법에 대해 알게되었습니다. 일단 iOS의 사파리 브라우저는 `position: fixed`를 지원하지 않기 때문에 이것 없이 구현해야하는게 큰 과제였던 것 같습니다.  
  이 부분은 `position: absolute`를 상하스크롤 영역을 감싸고 있는 부모 엘리먼트에 주어서 계속 상단에 붙어서 떠있게 할 수 있었습니다. 그래서 타겟으로 삼고 있는 엘리먼트의 y좌표를 스크롤 이벤트에 걸어서 계속 주시하다가 상단에 닿았을 때 해당 위치에서 remove 해서 `position: absolute`인 부모 엘리먼트에 append 해줌으로써 구현할 수 있었습니다.  
  이때 타겟 엘리먼트를 부모에 부착했다가 다시 원위치에 부착했다가 하는 것을 `ReactDOM.createPortal` 함수를 사용해서 구현했습니다.  
  그런데 여기서 또 발생했던 문제는 해당 타겟 엘리먼트가 좌우스크롤이 가능한 것이었는데, 좌우를 스크롤 한 다음 화면의 상단에 닿아서 부모 엘리먼트에 append 되면 스크롤했던 것이 초기화되는 것이었습니다. 예를들어 좌우스크롤에서 x를 100만큼 해놓은 상태에서 해당 엘리먼트가 화면의 상단에 닿아 부모 엘리먼트에 append되면 사실상 다시 렌더링되는 부분이기에 스크롤 했던 것이 저장되지 않고 다시 x = 0인 상태로 렌더링되는 것이었습니다.  
  이를 해결하기 위해 `useEffect`를 이용해서 마운트되었을때 `scrollTo`메서드로 기존의 스크롤 x좌표로 이동시켜주었는데, 이때 스크롤이 x는 0에서 해당 좌표로 이동하는 과정이 눈에 보여서 덜컥거리는 느낌을 주는 문제가 있었습니다. 이 부분은 `useLayoutEffect`를 사용하여 해결했습니다.
- 버키가 저는 고려하지 못했던 세심한 UI/UX 부분을 고려하는 걸 보면서 많이 배울 수 있었던 것 같습니다. 지금 생각나는 건 button의 padding을 제가 레이아웃을 맞추려고 오른쪽에다가만 줬는데 그러면 유저 입장에서 버튼 클릭에 대한 영역이 달라져서 혼란스러울 수 있다는 부분입니다. 정말 세심하지만 프로라면 충분히 고려해야할 부분인 것 같습니다.

## Future Action Plans

- 공부가 아닌 일을 시작하게 되면서 점점 회고를 작성하기가 힘들어지는 것 같습니다. 이런 부분은 지양하고 싶은데 현실적으로 힘든 부분인 것 같아요. 일단은 그래서 적어도 일주일에 하나는 해당 요일을 회고하는 것으로라도 작성하고자 실천하고 있는데 주중에 있었던 일들을 모두 기억하지는 못하고 있다보니까 전부 담지는 못하는 것 같아서 아쉬움이 남습니다.  
  그래서 일단 회고를 작성하는 것 자체는 지금처럼 주말에 그 한 주간의 일들을 작성하는 것으로 하되, 매일매일 있었던 일들에 대해 작은 5Fs를 아주 간단하게만 퇴근길에 메모해놓는 습관을 가져야겠습니다. 그리고 그걸 바탕으로 주말 회고를 작성하면 좋을 것 같아요. 한번 다음주부터 실천해보도록 해야겠네요!

## Feedback

- 어떤 주는 실천하고 어떤 주는 실천 못하고 있는데, 웬만하면 실천할 수 있도록 노력해야겠다.
