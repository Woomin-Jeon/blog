---
title: 2020-03-24 TIL
date: 2020-03-24
tag: [TIL]
---

## Facts

- 아침 알고리즘 시간에 실패율 문제를 다시 풀어보았습니다.
- JavaScript 생성자에 대해 알아보았습니다.
- 선생님이 주셨던 todo-api 코드를 찬찬히 뜯어보면서 관심사의 분리가 어떻게 이루어져 있는지 확인해보았습니다.
- 이를 토대로 제 서버쪽 프로젝트에 repository라는 디렉토리를 만들고 그 안에 객체를 export하는 js파일을 생성하였습니다. 그리고 그 객체 안에 메서드를 넣어놓은 뒤, 서비스에서 이에 의존하도록 코드를 리펙토링 하였습니다. 이 과정에서 중복되었던 로직들이 많이 사라졌습니다.
- 유닛 테스트 작성을 시도해보았습니다.

## Feelings

- 제 코드에 이렇게 중복 로직이 많은 줄 몰랐는데 신기하네요.
- 오늘은 많이 얻어가는 것 같아서 뿌듯합니다. 점점 무언갈 해 갈수록 관심사의 분리가 왜 중요한지, 그리고 구체적으로 어떤 방식으로 짜야되는지 알게되는 것 같습니다. 예전에 관심사의 분리에 대해서 포스팅한 적이 있는데 정말 아무것도 모르고 썼었네요.

## Findings

- 알고리즘 문제에서 나눗셈 로직을 짤 때는 항상 분모가 0인 경우를 예외처리 해주어야겠습니다.
- 생성자 함수는 객체를 만드는 틀이라고 볼 수 있습니다. 생성자 함수를 작성해서 이 틀을 만든 뒤에 new 연산자를 이용해서 틀 안에 값을 넣고 객체를 찍어내면 됩니다.
- 도메인주도설계 => controller - service - repository - DB
- 테스트 이름은 given, when, then 을 통한 문장구조가 만들어지도록 작성해야합니다.

  ```javascript
    $ npm test -- --watchAll --verbose

    FuncRepo // 함수 이름
    checkPassword // 메서드 이름
      with password is correct
        ✓ returns true (1ms)
      with wrong password
        ✓ returns false (1ms)

  ```

## Future Action Plans

- 지금까지 제가 한다고 했던 관심사의 분리는 사실 관심사의 분리라기 보다는 그냥 함수에 따라 파일을 나눠놓은 정도였던 것 같습니다.
- 내일은 DB에 의존하는 코드들에 테스트를 붙여보도록 하겠습니다. mocking에 대해서 공부를 더 해봐야겠네요.

## Feedback

- OK
